% \documentclass[11pt, draft, twoside]{report}
\documentclass[12pt, oneside]{report}

% ------------------------------------------------------------------------------
% Packages import
% ------------------------------------------------------------------------------
% Text font pack
\usepackage[OT1, T1]{fontenc}              % .pdf Encoding spec
\usepackage[utf8]{inputenc}                % .tex Encoding spec
\usepackage[greek, french]{babel}          % language used
\usepackage{csquotes}                      % Ensure correct quote text
\usepackage[dvipsnames, svgnames]{xcolor}  % Color support
\usepackage{./Template/graphics_support}   % Image support
\frenchspacing                             % French typo
\frenchbsetup{StandardLists=true}          % Turn off french bulleted lists
\usepackage[scaled]{beramono}

% Template packages
\usepackage[top=2cm,
            bottom=2cm,
            left=2cm,
            right=2cm,
            a4paper]{geometry}             % Page layout support
\usepackage{bookmark}                      % load hyperref internaly
\usepackage{appendix}                      % Appendix package to add sub-annex | annex to main table
\hypersetup{
    pdfkeywords={Passive,
                 Optimisation,
                 Solaire,
                 Système combiné},         % list of keywords
    unicode=true,                          % non-Latin characters in Acrobat’s bookmarks
    pdftoolbar=true,                       % show Acrobat’s toolbar?
    pdfmenubar=true,                       % show Acrobat’s menu?
    pdffitwindow=false,                    % window fit to page when opened
    pdfstartview={FitH},                   % fits the width of the page to the window
    pdftitle={Outil d’aide à la décision
              pour la construction de
              maison passives
              100\% solaires},             % title
    pdfauthor={Jérémy Bois},               % author
    pdfsubject={Optimisation,
                Maison passive},           % subject of the document
    pdfcreator={Jérémy Bois},              % creator of the document
    pdfproducer={Jérémy Bois},             % producer of the document
    pdfnewwindow=true,                     % links in new PDF window
    colorlinks=true,                       % false: boxed links; true: colored links
    linkcolor=black!30!orange!70,          % color of internal links (change box color with linkbordercolor)
    citecolor=magenta,                     % color of links to bibliography
    filecolor=magenta,                     % color of file links
    urlcolor=cyan                          % color of external links
}


% Scientist support
\usepackage{siunitx}                                % Unit package
\usepackage{amsmath, amssymb}                       % Allow adding complex equations
\usepackage{nicefrac}                               % for \nicefrac macro
% \usepackage{listings}                             % Code block support
\usepackage[algoruled,
            linesnumbered,
            algosection]{algorithm2e}               % Algorithm support
\usepackage{letltxmacro}                            % Support for optional argument in redefinition
% Change the ways square root appears
\makeatletter
    \let\oldr@@t\r@@t
    \def\r@@t#1#2{%
    \setbox0=\hbox{$\oldr@@t#1{#2\,}$}\dimen0=\ht0
    \advance\dimen0-0.2\ht0
    \setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
    {\box0\lower0.4pt\box2}}
    \LetLtxMacro{\oldsqrt}{\sqrt}
    \renewcommand*{\sqrt}[2][\ ]{\oldsqrt[#1]{#2}}
\makeatother




% Easy note support
\usepackage{soul}
\usepackage{xargs}                         % Use more than one optional parameter in a new commands
\usepackage[colorinlistoftodos,
            prependcaption,
            textsize=tiny]{todonotes}      % Note support

% Redefine \missingfigure command from todonotes packages
\makeatletter
    \renewcommand{\missingfigure}[2][]{%
    \setkeys{todonotes}{#1}%
    \addcontentsline{tdo}{todo}{%
        \fcolorbox{\@todonotes@currentbordercolor}%
        {\@todonotes@currentbackgroundcolor}%
        {\textcolor{\@todonotes@currentbackgroundcolor}{o}}%
        \ Figure: #2}%
    \par
    \noindent
    \begin{tikzpicture}
        \draw[fill=\@todonotes@currentfigcolor, draw = black!40, line width=2pt]
             (-2, -2.5) rectangle +(\@todonotes@currentfigwidth, \@todonotes@currentfigheight);
        \draw (2, -1.5) node[right, text width=\@todonotes@currentfigwidth-4.5cm] {#2};
        \draw[BrickRed, fill=white, rounded corners = 5pt, line width=5pt]
             (-1.25,0) -- (1.25,0) -- (0,-2) -- cycle;
        \draw (0, -0.5) node {Figure};
    \end{tikzpicture}\hfill
    }% Ending \missingfigure command

    % Define \missingequation command using \missingfigure command
    \newcommand{\missingequation}[2][]{%
    \setkeys{todonotes}{#1}%
    \addcontentsline{tdo}{todo}{%
        \fcolorbox{\@todonotes@currentbordercolor}%
        {\@todonotes@currentbackgroundcolor}%
        {\textcolor{\@todonotes@currentbackgroundcolor}{o}}%
        \ Equation: #2}%
    \par
    \par
    \noindent
    \begin{tikzpicture}
        \draw[fill=\@todonotes@currentfigcolor, draw = black!40, line width=2pt]
             (-2, -2.5) rectangle +(\@todonotes@currentfigwidth, \@todonotes@currentfigheight);
        \draw (2, -1.5) node[right, text width=\@todonotes@currentfigwidth-4.5cm] {#2};
        \draw[BrickRed, fill=white, line width=5pt]
             (0,-0.3) circle (1.1cm);
        \draw (0, -0.4) node {Equation};
    \end{tikzpicture}\hfill
    }% Ending \missingequation command
\makeatother

% Note if not sure about that
\newcommandx{\munsure}[2][1=]{
    \todo[linecolor=red,
          backgroundcolor=red!25,
          bordercolor=red,
          #1]{#2}}
\newcommandx{\iunsure}[2][1=]{
    \todo[linecolor=red,
          backgroundcolor=red!25,
          bordercolor=red,
          inline,
          size=\small,
          #1]{#2}}

% Note we highlighted text
\newcommandx{\mfix}[3][1=]{
    \texthl{#3}%
    \todo[linecolor=orange,
          backgroundcolor=orange!25,
          bordercolor=orange,
          #1]{#2}}
\newcommandx{\ifix}[3][1=]{
    \texthl{#3}%
    \todo[linecolor=orange,
          backgroundcolor=orange!25,
          bordercolor=orange,
          inline,
          size=\small,
          #1]{#2}}

% Note for part that need change
\newcommandx{\mtodo}[2][1=]{
    \todo[linecolor=JungleGreen,
          backgroundcolor=JungleGreen!25,
          bordercolor=JungleGreen,
          #1]{#2}}
\newcommandx{\itodo}[2][1=]{
    \todo[linecolor=JungleGreen,
          backgroundcolor=JungleGreen!25,
          bordercolor=JungleGreen,
          inline,
          size=\small,
          #1]{#2}}

% Note for missing figure
\newcommandx{\ftodo}[2][1=]{
    \missingfigure[figcolor=MidnightBlue!25,
                   backgroundcolor=MidnightBlue!25,
                   bordercolor=MidnightBlue,
                   color=MidnightBlue!25,
                   figheight=2cm,
                   size=\normalsize,
                   #1]{#2}}


% Note for missing equation
\newcommandx{\etodo}[2][1=]{
    \missingequation[figcolor=CornflowerBlue!25,
                     backgroundcolor=CornflowerBlue!25,
                     bordercolor=CornflowerBlue,
                     color=CornflowerBlue!25,
                     figheight=2cm,
                     size=\normalsize,
                     #1]{#2}}
\newcommandx{\emtodo}[2][1=]{
    \todo[linecolor=CornflowerBlue,
          backgroundcolor=CornflowerBlue!25,
          bordercolor=CornflowerBlue,
          #1]{Equation: #2}}


% Bibliography support
\usepackage[backend=biber,
            style=authoryear,
            ]{biblatex}                               % Bibliography support
\addbibresource{./Bibliographie/references.bib}       % Where to find bibliography

% Add table support
% \usepackage{booktabs}                             % Easy pro tables
% \usepackage{longtable}                            % Allow to create tab on multiple pages
% \usepackage{tabulary}                             % Best tab formatter
% \usepackage{multirow}                             % Multiple row
% \setlength{\LTcapwidth}{8in}                      % Change caption size

% New table command to inser table inside a table cell
% \newcommand{\minitab}[2][Insert text here]{\begin{tabular}{#1}#2\end{tabular}}


% % Add support for annotations
% \usepackage{pdfcomment}
% \definecolor{transparent}{cmyk}{1, 1, 1, 1}
% % Voilà un \pdfmarkupcomment[color=transparent]{text avec annotation}{I’m marking you}


% ------------------------------------------------------------------------------


% ------------------------------------------------------------------------------
% First page defined here
% ------------------------------------------------------------------------------
\title{
    {Outil d’aide à la décision pour la construction de maisons passives 100\% solaires}\\
    {\large Université de Bordeaux}\\
    {\includegraphics{Logos/aquitaine_logo.png}}
}
\author{Jérémy Bois}
\date{}
% ------------------------------------------------------------------------------


% ------------------------------------------------------------------------------
% Included files selection defined here
% ------------------------------------------------------------------------------
% \includeonly{
%              Chapitres/Chap2-Modelisation, Chapitres/Chap3-UnOutilAideDecision,
%              Chapitres/Chap4-OptimisationSystemeSolaire,
%              Algorithmes/exempleAlgo
%             }
% ------------------------------------------------------------------------------


% ------------------------------------------------------------------------------
% Document start here
% ------------------------------------------------------------------------------
\begin{document}

% First page
\pagenumbering{Alph}
\begin{titlepage}
    \maketitle
    \thispagestyle{empty}
\end{titlepage}
\pagenumbering{arabic}


% Other stuff
\chapter*{Résumé}
Résumé ici

\chapter*{Remerciements}
Merci merci ...


\tableofcontents
\listoffigures
\listoftables
\thispagestyle{empty}
\newpage

% Test algorithm implementation
% \include{Algorithmes/exempleAlgo}


\newpage
\listoftodos[Notes]
\newpage

% Start importing chapters
\chapter*{Introduction}
\include{Chapitres/Introduction}

\chapter{Contexte des travaux}
\include{Chapitres/Chap1-ContexteTravaux}

\chapter{Modelisation du système solaire}
\include{Chapitres/Chap2-Modelisation}

\chapter{Un outil d’aide à la décision ?}
\include{Chapitres/Chap3-UnOutilAideDecision}

\chapter{Optimisation d’un système solaire combiné}
\include{Chapitres/Chap4-OptimisationSystemeSolaire}

\chapter{Analyse des résultats}
\include{Chapitres/Chap5-AnalyseResultats}

\chapter*{Conclusion}
\include{Chapitres/Conclusion}


% Start importing appendix
\appendix
\chapter{Appendix Title}
\include{Annexes/TestAnnexe}


% Add bibliography
\printbibliography

\end{document}
% ------------------------------------------------------------------------------
% Document end here
% ------------------------------------------------------------------------------


% Refaire l’organisation entre chapitre 2 et 4 sinon il y aura des doublons.
